# ğŸ” æ•°æ®åº“è¿æ¥é—®é¢˜è¯Šæ–­æŠ¥å‘Š

## ğŸ¯ é—®é¢˜ç°çŠ¶

**ç—‡çŠ¶**: Adminç¼–è¾‘åŠŸèƒ½å®Œå…¨æ— æ³•å·¥ä½œï¼Œå‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š
- `Request timed out. The server might be busy. Please try again.`
- `Can't reach database server at aws-1-ap-southeast-1.pooler.supabase.com:6543`
- `Timed out fetching a new connection from the connection pool`

## ğŸ“Š è¯Šæ–­ç»“æœ

### âœ… ç½‘ç»œè¿æ¥æ­£å¸¸
```bash
PING aws-1-ap-southeast-1.pooler.supabase.com (198.18.0.10): 56 data bytes
64 bytes from 198.18.0.10: icmp_seq=0 ttl=64 time=0.126 ms
# ç½‘ç»œè¿æ¥æ²¡æœ‰é—®é¢˜
```

### âŒ æ•°æ®åº“æœåŠ¡å™¨æ— æ³•è®¿é—®
```
Can't reach database server at `aws-1-ap-southeast-1.pooler.supabase.com:6543`
Please make sure your database server is running at `aws-1-ap-southeast-1.pooler.supabase.com:6543`
```

### ğŸ”§ å·²ä¿®å¤çš„é…ç½®é—®é¢˜
- âœ… è¿æ¥æ± é™åˆ¶ä» `connection_limit=1` å¢åŠ åˆ° `connection_limit=10`
- âœ… å¢åŠ äº†è¿æ¥æ± è¶…æ—¶é…ç½® `pool_timeout=20`
- âœ… å¢å¼ºäº†é‡è¯•æœºåˆ¶å’Œé”™è¯¯å¤„ç†
- âœ… æ·»åŠ äº†å¼ºåˆ¶é‡Šæ”¾è¿æ¥çš„åŠŸèƒ½

## ğŸ¯ æ ¹æœ¬åŸå› 

**è¿™ä¸æ˜¯ä»£ç é—®é¢˜ï¼Œè€Œæ˜¯Supabaseæ•°æ®åº“æœåŠ¡é—®é¢˜**ï¼š

1. **å¯èƒ½çš„åŸå› **ï¼š
   - ğŸ”´ Supabaseå…è´¹å®ä¾‹å¯èƒ½è¢«æš‚åœï¼ˆéæ´»åŠ¨çŠ¶æ€ï¼‰
   - ğŸ”´ SupabaseæœåŠ¡ä¸´æ—¶ä¸­æ–­
   - ğŸ”´ æ•°æ®åº“å‡­æ®å·²è¿‡æœŸ
   - ğŸ”´ Supabaseé¡¹ç›®é…ç½®å˜æ›´

2. **ç¡®è®¤æ–¹æ³•**ï¼š
   - æ£€æŸ¥Supabaseæ§åˆ¶å°é¡¹ç›®çŠ¶æ€
   - æŸ¥çœ‹é¡¹ç›®æ˜¯å¦å¤„äºæš‚åœçŠ¶æ€
   - ç¡®è®¤æ•°æ®åº“å‡­æ®æ˜¯å¦æœ‰æ•ˆ

## ğŸš€ è§£å†³æ–¹æ¡ˆ

### 1. ğŸ“± ç«‹å³æ£€æŸ¥Supabaseæ§åˆ¶å°
è®¿é—®ï¼šhttps://app.supabase.com/project/ihkdquydhciabhrwffkb

æ£€æŸ¥ï¼š
- âœ… é¡¹ç›®çŠ¶æ€æ˜¯å¦ä¸º "Active"
- âœ… æ•°æ®åº“æ˜¯å¦åœ¨è¿è¡Œ
- âœ… è¿æ¥å­—ç¬¦ä¸²æ˜¯å¦æœ‰å˜åŒ–
- âœ… æ˜¯å¦æœ‰æœåŠ¡ä¸­æ–­é€šçŸ¥

### 2. ğŸ”„ é‡æ–°æ¿€æ´»æ•°æ®åº“ï¼ˆå¦‚æœè¢«æš‚åœï¼‰
å¦‚æœé¡¹ç›®è¢«æš‚åœï¼š
- ç‚¹å‡»"Resume"æˆ–"Restore"æŒ‰é’®
- ç­‰å¾…æ•°æ®åº“æ¢å¤è¿è¡Œ
- å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿæ—¶é—´

### 3. ğŸ†• è·å–æ–°çš„è¿æ¥å­—ç¬¦ä¸²ï¼ˆå¦‚æœéœ€è¦ï¼‰
å¦‚æœå‡­æ®è¿‡æœŸï¼š
- åœ¨Supabaseæ§åˆ¶å° â†’ Settings â†’ Database
- å¤åˆ¶æ–°çš„ `Connection String` 
- æ›´æ–° `.env` æ–‡ä»¶ä¸­çš„ `DATABASE_URL`

### 4. ğŸ’¡ ä¸´æ—¶è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨æœ¬åœ°æ•°æ®åº“
å¦‚æœSupabaseé—®é¢˜æŒç»­ï¼š

```bash
# 1. å®‰è£…æœ¬åœ°PostgreSQL
brew install postgresql

# 2. å¯åŠ¨æœ¬åœ°æ•°æ®åº“
brew services start postgresql

# 3. åˆ›å»ºæœ¬åœ°æ•°æ®åº“
createdb imacx_news_local

# 4. æ›´æ–°.envæ–‡ä»¶
DATABASE_URL="postgresql://localhost:5432/imacx_news_local"

# 5. è¿è¡Œæ•°æ®åº“è¿ç§»
npx prisma migrate deploy
npx prisma db seed  # å¦‚æœæœ‰seedæ–‡ä»¶
```

## ğŸ§ª éªŒè¯æ­¥éª¤

ä¿®å¤åè¯·æŒ‰ä»¥ä¸‹é¡ºåºéªŒè¯ï¼š

1. **æ£€æŸ¥APIå¥åº·çŠ¶æ€**ï¼š
   ```bash
   curl http://localhost:4321/api/health
   ```

2. **æµ‹è¯•æ–‡ç« åˆ—è¡¨**ï¼š
   ```bash
   curl http://localhost:4321/api/articles
   ```

3. **æµ‹è¯•å•ç¯‡æ–‡ç« **ï¼š
   ```bash
   curl http://localhost:4321/api/articles/17
   ```

4. **æµ‹è¯•ç¼–è¾‘åŠŸèƒ½**ï¼š
   - è®¿é—®adminé¡µé¢
   - ç‚¹å‡»ç¼–è¾‘æŒ‰é’®
   - éªŒè¯ç¼–è¾‘è¡¨å•æ­£å¸¸åŠ è½½

## ğŸ“‹ å½“å‰çŠ¶æ€

- âŒ **Supabaseæ•°æ®åº“**: æ— æ³•è®¿é—®
- âœ… **ç½‘ç»œè¿æ¥**: æ­£å¸¸
- âœ… **ä»£ç é…ç½®**: å·²ä¼˜åŒ–
- âœ… **è¿æ¥æ± è®¾ç½®**: å·²ä¿®å¤
- â³ **ç­‰å¾…**: SupabaseæœåŠ¡æ¢å¤æˆ–ç”¨æˆ·æ‰‹åŠ¨æ¿€æ´»

## ğŸ’¬ å»ºè®®

**ç«‹å³è¡ŒåŠ¨**ï¼š
1. æ£€æŸ¥Supabaseæ§åˆ¶å°é¡¹ç›®çŠ¶æ€
2. å¦‚æœé¡¹ç›®è¢«æš‚åœï¼Œç‚¹å‡»æ¢å¤
3. å¦‚æœé—®é¢˜æŒç»­ï¼Œè€ƒè™‘ä½¿ç”¨æœ¬åœ°æ•°æ®åº“ä¸´æ—¶æ›¿ä»£

è¿™æ˜¯ä¸€ä¸ª**åŸºç¡€è®¾æ–½é—®é¢˜**ï¼Œä¸æ˜¯ä»£ç é—®é¢˜ã€‚ä¸€æ—¦Supabaseæ¢å¤ï¼Œæ‰€æœ‰åŠŸèƒ½éƒ½ä¼šæ­£å¸¸å·¥ä½œã€‚
