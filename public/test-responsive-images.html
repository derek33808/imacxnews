<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>响应式图片测试</title>
    <link rel="stylesheet" href="../src/styles/global.css">
    <style>
        body {
            font-family: system-ui, -apple-system, sans-serif;
            margin: 20px;
            background: #f5f5f5;
        }
        .test-section {
            margin-bottom: 40px;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .device-info {
            background: #e3f2fd;
            padding: 10px;
            border-radius: 4px;
            margin-bottom: 20px;
            font-size: 14px;
        }
    </style>
    <script>
        function getDeviceInfo() {
            const info = {
                userAgent: navigator.userAgent,
                screen: `${screen.width}x${screen.height}`,
                viewport: `${window.innerWidth}x${window.innerHeight}`,
                devicePixelRatio: window.devicePixelRatio,
                orientation: screen.orientation?.type || 'unknown'
            };
            return info;
        }
        
        window.addEventListener('load', function() {
            const info = getDeviceInfo();
            document.getElementById('device-info').innerHTML = `
                <strong>设备信息:</strong><br>
                屏幕: ${info.screen} | 视窗: ${info.viewport} | 像素比: ${info.devicePixelRatio}<br>
                方向: ${info.orientation}<br>
                UA: ${info.userAgent}
            `;
        });
    </script>
</head>
<body>
    <h1>📱 响应式图片测试页面</h1>
    
    <div id="device-info" class="device-info">加载设备信息中...</div>
    
    <div class="test-section">
        <h2>🎯 缩略图测试 (thumb-image-wrap)</h2>
        <div class="test-grid">
            <div class="thumb-image-wrap">
                <img src="/images/placeholder.svg" alt="测试图片1" class="thumb-img">
                <div style="position: absolute; bottom: 10px; left: 10px; color: white; background: rgba(0,0,0,0.7); padding: 5px; border-radius: 3px;">
                    缩略图1
                </div>
            </div>
            <div class="thumb-image-wrap">
                <img src="/images/imacx-news-placeholder.svg" alt="测试图片2" class="thumb-img">
                <div style="position: absolute; bottom: 10px; left: 10px; color: white; background: rgba(0,0,0,0.7); padding: 5px; border-radius: 3px;">
                    缩略图2
                </div>
            </div>
        </div>
    </div>
    
    <div class="test-section">
        <h2>🎯 文章卡片测试 (card-image-link)</h2>
        <div class="test-grid">
            <div class="card-image-link">
                <img src="/images/placeholder.svg" alt="测试图片3" class="card-image">
            </div>
            <div class="card-image-link">
                <img src="/images/imacx-news-placeholder.svg" alt="测试图片4" class="card-image">
            </div>
        </div>
    </div>
    
    <div class="test-section">
        <h2>🎯 不同尺寸图片测试</h2>
        <div class="test-grid">
            <div class="thumb-image-wrap">
                <img src="https://picsum.photos/800/600" alt="横向图片" class="thumb-img">
                <div style="position: absolute; bottom: 10px; left: 10px; color: white; background: rgba(0,0,0,0.7); padding: 5px; border-radius: 3px;">
                    800x600 横向
                </div>
            </div>
            <div class="thumb-image-wrap">
                <img src="https://picsum.photos/600/800" alt="竖向图片" class="thumb-img">
                <div style="position: absolute; bottom: 10px; left: 10px; color: white; background: rgba(0,0,0,0.7); padding: 5px; border-radius: 3px;">
                    600x800 竖向
                </div>
            </div>
            <div class="thumb-image-wrap">
                <img src="https://picsum.photos/1920/1080" alt="大尺寸图片" class="thumb-img">
                <div style="position: absolute; bottom: 10px; left: 10px; color: white; background: rgba(0,0,0,0.7); padding: 5px; border-radius: 3px;">
                    1920x1080 大图
                </div>
            </div>
            <div class="thumb-image-wrap">
                <img src="https://picsum.photos/300/200" alt="小尺寸图片" class="thumb-img">
                <div style="position: absolute; bottom: 10px; left: 10px; color: white; background: rgba(0,0,0,0.7); padding: 5px; border-radius: 3px;">
                    300x200 小图
                </div>
            </div>
        </div>
    </div>
    
    <div class="test-section">
        <h2>📏 CSS 特性支持检测</h2>
        <div style="font-family: monospace; background: #f0f0f0; padding: 15px; border-radius: 4px;">
            <div>aspect-ratio 支持: <span id="aspect-ratio-support"></span></div>
            <div>object-fit 支持: <span id="object-fit-support"></span></div>
            <div>CSS Grid 支持: <span id="grid-support"></span></div>
        </div>
    </div>
    
    <script>
        // CSS 特性检测
        function checkCSSSupport() {
            const checks = {
                'aspect-ratio': CSS.supports('aspect-ratio', '16/9'),
                'object-fit': CSS.supports('object-fit', 'cover'),
                'grid': CSS.supports('display', 'grid')
            };
            
            document.getElementById('aspect-ratio-support').textContent = checks['aspect-ratio'] ? '✅ 支持' : '❌ 不支持';
            document.getElementById('object-fit-support').textContent = checks['object-fit'] ? '✅ 支持' : '❌ 不支持';
            document.getElementById('grid-support').textContent = checks['grid'] ? '✅ 支持' : '❌ 不支持';
        }
        
        window.addEventListener('load', checkCSSSupport);
        window.addEventListener('resize', function() {
            const info = getDeviceInfo();
            document.getElementById('device-info').innerHTML = `
                <strong>设备信息:</strong><br>
                屏幕: ${info.screen} | 视窗: ${info.viewport} | 像素比: ${info.devicePixelRatio}<br>
                方向: ${info.orientation}<br>
                UA: ${info.userAgent}
            `;
        });
    </script>
</body>
</html>
